<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LifeOS Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #000000;
            --card: #1c1c1e;
            --primary: #007aff;
            --secondary: #2c2c2e;
            --text-main: #ffffff;
            --text-muted: #8e8e93;
            --danger: #ff453a;
        }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            margin: 0; padding: 0;
            padding-bottom: 100px;
            overflow-x: hidden;
        }

        /* --- –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ --- */
        .top-bar {
            position: fixed; top: 0; left: 0; right: 0;
            height: 60px; background: var(--bg);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 16px; z-index: 100;
        }
        .top-bar .close-btn { color: var(--primary); font-size: 17px; cursor: pointer; }
        .top-bar .title { font-weight: 600; font-size: 17px; }
        .top-bar .menu-btn { font-size: 22px; cursor: pointer; }

        /* --- –ë–õ–û–ö –ü–ï–†–ò–û–î–ê --- */
        .period-card {
            background: var(--card);
            margin: 70px 16px 16px 16px;
            border-radius: 14px;
            padding: 16px;
            display: flex; align-items: center; justify-content: space-between;
        }
        .period-info { text-align: center; }
        .period-info h4 { margin: 0; font-size: 15px; font-weight: 600; }
        .period-info p { margin: 4px 0 0 0; font-size: 13px; color: var(--text-muted); }
        .arrow { color: var(--primary); font-size: 20px; cursor: pointer; padding: 0 10px; }

        /* --- –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –í–ò–î–ê --- */
        .segmented-control {
            background: var(--secondary);
            margin: 0 16px 20px 16px;
            border-radius: 9px;
            display: flex; padding: 2px;
        }
        .segment {
            flex: 1; display: flex; align-items: center; justify-content: center;
            gap: 6px; padding: 8px; border-radius: 7px;
            font-size: 13px; font-weight: 500; color: var(--text-muted); cursor: pointer;
        }
        .segment.active { background: var(--primary); color: white; }

        /* --- –û–ë–©–ò–ô –ü–†–û–ì–†–ï–°–° --- */
        .overall-progress { margin: 0 16px 20px 16px; }
        .progress-bar {
            height: 8px; background: var(--secondary);
            border-radius: 4px; overflow: hidden; position: relative;
        }
        .progress-fill {
            height: 100%; background: var(--primary); width: 40%;
            transition: width 0.3s ease;
        }
        .progress-text {
            text-align: right; margin-top: 8px;
            font-size: 14px; font-weight: 600; color: var(--text-main);
        }

        /* --- –°–ü–ò–°–û–ö –ü–†–ò–í–´–ß–ï–ö --- */
        .habit-card {
            background: var(--card);
            margin: 0 16px 12px 16px;
            border-radius: 14px;
            padding: 16px;
            position: relative;
            transition: transform 0.3s, opacity 0.3s;
        }
        .habit-header { margin-bottom: 16px; font-weight: 600; font-size: 16px; }
        .days-container {
            display: flex; justify-content: space-between;
        }
        .day-item {
            display: flex; flex-direction: column; align-items: center; gap: 8px;
        }
        .day-label { font-size: 11px; color: var(--text-muted); font-weight: 600; }
        .circle {
            width: 34px; height: 34px; border-radius: 50%;
            background: var(--secondary);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; position: relative;
            transition: all 0.2s ease;
        }
        .circle.done { background: var(--primary); }
        .circle.today { border: 2px solid var(--primary); background: transparent; }
        .circle.today.done { background: var(--primary); }
        .circle .check { display: none; color: white; font-size: 14px; font-weight: bold; }
        .circle.done .check { display: block; }

        /* --- –ê–ù–ò–ú–ê–¶–ò–Ø –£–î–ê–õ–ï–ù–ò–Ø --- */
        .habit-card.deleting {
            transform: translateX(-120%);
            opacity: 0;
        }

        /* --- –ö–ù–û–ü–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø --- */
        .add-habit-btn {
            background: var(--secondary);
            margin: 8px 16px; padding: 16px;
            border-radius: 14px; text-align: center;
            font-weight: 600; color: var(--text-muted);
            cursor: pointer;
        }

        /* --- –ê–ù–ê–õ–ò–¢–ò–ö–ê --- */
        .analytics-section { padding: 20px 16px; }
        .analytics-title { font-size: 28px; font-weight: 800; margin-bottom: 8px; }
        .analytics-sub { font-size: 14px; color: var(--text-muted); margin-bottom: 24px; }
        
        .circle-progress-wrap {
            display: flex; align-items: center; gap: 24px;
            background: var(--card); padding: 20px; border-radius: 16px;
        }
        .big-circle {
            width: 100px; height: 100px; border-radius: 50%;
            background: conic-gradient(var(--primary) 50%, var(--secondary) 0);
            display: flex; align-items: center; justify-content: center;
        }
        .big-circle-inner {
            width: 80px; height: 80px; background: var(--card);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 18px; font-weight: 700;
        }
        .stats-info { flex: 1; display: flex; flex-direction: column; gap: 6px; }
        .stat-line { display: flex; justify-content: space-between; font-size: 13px; }
        .stat-label { color: var(--text-muted); }

        /* --- –ì–†–ê–§–ò–ö --- */
        .bar-chart {
            display: flex; justify-content: space-between; align-items: flex-end;
            height: 120px; margin-top: 30px; padding: 0 10px;
        }
        .bar-wrapper { display: flex; flex-direction: column; align-items: center; gap: 8px; flex: 1; }
        .bar { width: 12px; border-radius: 6px; background: var(--secondary); min-height: 4px; }
        .bar.active { background: var(--primary); }
        .bar-day { font-size: 10px; color: var(--text-muted); font-weight: 700; }
        .bar-val { font-size: 9px; color: var(--text-muted); }

        /* --- TAB BAR --- */
        .tab-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            height: 85px; background: rgba(20, 20, 20, 0.94);
            backdrop-filter: blur(10px);
            border-top: 0.5px solid #333;
            display: flex; justify-content: space-around; padding-top: 10px;
        }
        .tab-item { display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--text-muted); text-decoration: none; font-size: 10px; }
        .tab-item.active { color: var(--primary); }
        .tab-icon { font-size: 24px; }

        /* --- –ü–û–Ø–°–ù–ï–ù–ò–Ø --- */
        .explanation-box {
            background: #1c1c1e; border: 1px solid #333;
            margin: 16px; padding: 16px; border-radius: 12px;
            font-size: 13px; line-height: 1.5; color: #d1d1d6;
        }
        .explanation-box b { color: var(--primary); }
    </style>
</head>
<body>

    <div id="habits-view">
        <div class="top-bar">
            <div class="close-btn">–ó–∞–∫—Ä—ã—Ç—å</div>
            <div class="title">–¢—Ä–µ–∫–µ—Ä</div>
            <div class="menu-btn">‚Ä¢‚Ä¢‚Ä¢</div>
        </div>

        <div class="period-card">
            <div class="arrow">‚Äπ</div>
            <div class="period-info">
                <h4>5 –Ω–µ–¥–µ–ª—è</h4>
                <p>26 —è–Ω–≤. ‚Äì 1 —Ñ–µ–≤.</p>
            </div>
            <div class="arrow">‚Ä∫</div>
        </div>

        <div class="segmented-control">
            <div class="segment active"><span>üìä</span> –ù–µ–¥–µ–ª—è</div>
            <div class="segment"><span>üóì</span> –ú–µ—Å—è—Ü</div>
        </div>

        <div class="overall-progress">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 19%;"></div>
            </div>
            <div class="progress-text">4 / 21</div>
        </div>

        <div class="explanation-box">
            <b>–ß—Ç–æ —Ç–∞–∫–æ–µ –°–µ–π—Ñ?</b> üè¶ –≠—Ç–æ —Ç–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç 20% –æ—Ç –¥–æ—Ö–æ–¥–æ–≤, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–º –±—é–¥–∂–µ—Ç–µ. <br><br>
            <b>üìÖ –ó–ü:</b> –ü–æ–¥–ø–∏—Å—å –ø–æ–¥ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å –¥–æ —Ç–≤–æ–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è.
        </div>

        <div id="habit-list">
            <div class="habit-card" id="habit-1">
                <div class="habit-header" onclick="requestDelete(1)">–ü–∏—Ç—å –≤–æ–¥—É</div>
                <div class="days-container">
                    <div class="day-item"><span class="day-label">–ü–ù</span><div class="circle done" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–í–¢</span><div class="circle done" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–°–†</span><div class="circle today" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–ß–¢</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–ü–¢</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–°–ë</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–í–°</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                </div>
            </div>

            <div class="habit-card" id="habit-2">
                <div class="habit-header" onclick="requestDelete(2)">–ß—Ç–µ–Ω–∏–µ</div>
                <div class="days-container">
                    <div class="day-item"><span class="day-label">–ü–ù</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–í–¢</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–°–†</span><div class="circle today" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–ß–¢</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–ü–¢</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–°–ë</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                    <div class="day-item"><span class="day-label">–í–°</span><div class="circle" onclick="toggleCircle(this)"><span class="check">‚úì</span></div></div>
                </div>
            </div>
        </div>

        <div class="add-habit-btn">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</div>
    </div>

    <div id="analytics-view" style="display:none;">
        <div class="analytics-section">
            <h1 class="analytics-title">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
            <p class="analytics-sub">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤–∞—à–∏—Ö –∑–∞–¥–∞—á –∏ –ø—Ä–∏–≤—ã—á–µ–∫</p>

            <div class="segmented-control">
                <div class="segment">–ó–∞–¥–∞—á–∏</div>
                <div class="segment active">–ü—Ä–∏–≤—ã—á–∫–∏</div>
            </div>

            <div class="segmented-control" style="width: 60%; margin-left: 0;">
                <div class="segment active">–ù–µ–¥</div>
                <div class="segment">–ú–µ—Å</div>
                <div class="segment">–ì–æ–¥</div>
            </div>

            <div class="circle-progress-wrap">
                <div class="big-circle">
                    <div class="big-circle-inner">50%</div>
                </div>
                <div class="stats-info">
                    <div class="stat-line"><span class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</span><b>21</b></div>
                    <div class="stat-line"><span class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span><b>11</b></div>
                    <div class="stat-line"><span class="stat-label">–ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span><b>10</b></div>
                    <div class="stat-line"><span class="stat-label">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π –¥–µ–Ω—å</span><b>–ü–ù</b></div>
                </div>
            </div>

            <div class="bar-chart">
                <div class="bar-wrapper"><div class="bar active" style="height: 80%;"></div><div class="bar-day">–ü–ù</div><div class="bar-val">1/1</div></div>
                <div class="bar-wrapper"><div class="bar active" style="height: 40%;"></div><div class="bar-day">–í–¢</div><div class="bar-val">1/2</div></div>
                <div class="bar-wrapper"><div class="bar" style="height: 10%;"></div><div class="bar-day">–°–†</div><div class="bar-val">0/1</div></div>
                <div class="bar-wrapper"><div class="bar active" style="height: 90%;"></div><div class="bar-day">–ß–¢</div><div class="bar-val">2/2</div></div>
                <div class="bar-wrapper"><div class="bar" style="height: 5%;"></div><div class="bar-day">–ü–¢</div><div class="bar-val">0/0</div></div>
                <div class="bar-wrapper"><div class="bar" style="height: 5%;"></div><div class="bar-day">–°–ë</div><div class="bar-val">0/0</div></div>
                <div class="bar-wrapper"><div class="bar" style="height: 5%;"></div><div class="bar-day">–í–°</div><div class="bar-val">0/0</div></div>
            </div>
        </div>
    </div>

    <div class="tab-bar">
        <div class="tab-item" onclick="switchTab('tasks')"><span class="tab-icon">üìã</span>–ó–∞–¥–∞—á–∏</div>
        <div class="tab-item active" onclick="switchTab('habits')"><span class="tab-icon">‚ö°</span>–ü—Ä–∏–≤—ã—á–∫–∏</div>
        <div class="tab-item" onclick="switchTab('goals')"><span class="tab-icon">üéØ</span>–¶–µ–ª–∏</div>
        <div class="tab-item" onclick="switchTab('analytics')"><span class="tab-icon">üìà</span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫—Ä—É–∂–∫–æ–≤
        function toggleCircle(el) {
            el.classList.toggle('done');
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–¥–µ—Å—å
        }

        // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–≤—ã—á–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∞)
        function requestDelete(id) {
            if(confirm("–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É?")) {
                const card = document.getElementById('habit-' + id);
                card.classList.add('deleting');
                setTimeout(() => {
                    card.remove();
                }, 400);
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
        function switchTab(tab) {
            document.getElementById('habits-view').style.display = (tab === 'habits') ? 'block' : 'none';
            document.getElementById('analytics-view').style.display = (tab === 'analytics') ? 'block' : 'none';
            
            // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ —Ç–∞–±–±–∞—Ä–µ
            document.querySelectorAll('.tab-item').forEach(item => {
                item.classList.remove('active');
                if(item.innerText.toLowerCase().includes(tab === 'habits' ? '–ø—Ä–∏–≤—ã—á–∫–∏' : tab === 'analytics' ? '–∞–Ω–∞–ª–∏—Ç–∏–∫–∞' : '')) {
                    item.classList.add('active');
                }
            });
        }
    </script>
</body>
</html>
